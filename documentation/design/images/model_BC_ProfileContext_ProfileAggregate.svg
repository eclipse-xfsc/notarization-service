<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="697px" preserveAspectRatio="none" style="width:555px;height:697px;background:#FFFFFF;" version="1.1" viewBox="0 0 555 697" width="555px" zoomAndPan="magnify"><defs><filter height="300%" id="fc4usdhxi8e3k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b3a7ade76a57dec723c619e7c09554a3]
cluster 'ProfileAggregate' Aggregate--><rect fill="#FFFFFF" filter="url(#fc4usdhxi8e3k)" height="678" style="stroke:#000000;stroke-width:1.5;" width="536" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="230" x="160" y="21.9951">'ProfileAggregate' Aggregate</text><!--MD5=[7b57f7066b803747d2119f99dd1555d4]
class Profile--><rect codeLine="5" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="194.7891" id="Profile" style="stroke:#A80036;stroke-width:1.5;" width="240" x="155" y="199"/><ellipse cx="216.25" cy="217.9688" fill="#FFFAB8" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M216.3594,213.3125 L215.2031,218.3906 L217.5313,218.3906 L216.3594,213.3125 Z M214.875,211.0781 L217.8594,211.0781 L221.2188,223.4688 L218.7656,223.4688 L218,220.4063 L214.7188,220.4063 L213.9688,223.4688 L211.5313,223.4688 L214.875,211.0781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="113" x="234.75" y="215.1387">«Aggregate Root»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="271.75" y="229.1074">Profile</text><line style="stroke:#A80036;stroke-width:1.5;" x1="156" x2="394" y1="236.9375" y2="236.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="161" y="251.1479">String name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="161" y="263.9526">String aip</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="161" y="276.7573">String[0..1] description</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="161" y="289.562">Duration validFor</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="161" y="302.3667">boolean isRevocable</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="228" x="161" y="315.1714">List&lt;TaskDescription&gt; taskDescriptions</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="161" y="327.9761">TaskTree tasks</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="161" y="340.7808">TaskTree preconditionTasks</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="161" y="353.5854">ProfileId id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="161" y="366.3901">JsonLdCredentialTemplate template</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="161" y="379.1948">JWKs notaries</text><line style="stroke:#A80036;stroke-width:1.5;" x1="156" x2="394" y1="385.7891" y2="385.7891"/><!--MD5=[b6d721c423ed53bb9d7ed9bc47cb762c]
class ProfileId--><rect codeLine="18" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="66.7422" id="ProfileId" style="stroke:#A80036;stroke-width:1.5;" width="120" x="407" y="471"/><ellipse cx="422" cy="489.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M422.1094,494.4219 L424.2969,484.0781 L426.7656,484.0781 L423.8125,496.4688 L420.4219,496.4688 L417.4688,484.0781 L419.9375,484.0781 L422.1094,494.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="434" y="487.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="455" y="501.1074">ProfileId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="408" x2="526" y1="508.9375" y2="508.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="413" y="523.1479">String profileId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="408" x2="526" y1="529.7422" y2="529.7422"/><!--MD5=[ef9f1257e595c1b98e5d0fc17e0afe1a]
class JWKs--><rect codeLine="21" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="66.7422" id="JWKs" style="stroke:#A80036;stroke-width:1.5;" width="120" x="23" y="471"/><ellipse cx="38" cy="489.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M38.1094,494.4219 L40.2969,484.0781 L42.7656,484.0781 L39.8125,496.4688 L36.4219,496.4688 L33.4688,484.0781 L35.9375,484.0781 L38.1094,494.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="50" y="487.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="82" y="501.1074">JWKs</text><line style="stroke:#A80036;stroke-width:1.5;" x1="24" x2="142" y1="508.9375" y2="508.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="29" y="523.1479">List&lt;JWK&gt; jwk</text><line style="stroke:#A80036;stroke-width:1.5;" x1="24" x2="142" y1="529.7422" y2="529.7422"/><!--MD5=[fb26c2abf28d9e53d8819e31e8bb5445]
class JsonLdCredentialTemplate--><rect codeLine="24" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="66.7422" id="JsonLdCredentialTemplate" style="stroke:#A80036;stroke-width:1.5;" width="194" x="178" y="471"/><ellipse cx="193" cy="489.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M193.1094,494.4219 L195.2969,484.0781 L197.7656,484.0781 L194.8125,496.4688 L191.4219,496.4688 L188.4688,484.0781 L190.9375,484.0781 L193.1094,494.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="242" y="487.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="162" x="207" y="501.1074">JsonLdCredentialTemplate</text><line style="stroke:#A80036;stroke-width:1.5;" x1="179" x2="371" y1="508.9375" y2="508.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="184" y="523.1479">Json value</text><line style="stroke:#A80036;stroke-width:1.5;" x1="179" x2="371" y1="529.7422" y2="529.7422"/><!--MD5=[64372f256ba532c7810d2bd748cd40d2]
class Json--><rect codeLine="27" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="53.9375" id="Json" style="stroke:#A80036;stroke-width:1.5;" width="120" x="215" y="615"/><ellipse cx="230" cy="633.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M230.1094,638.4219 L232.2969,628.0781 L234.7656,628.0781 L231.8125,640.4688 L228.4219,640.4688 L225.4688,628.0781 L227.9375,628.0781 L230.1094,638.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="242" y="631.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="275" y="645.1074">Json</text><line style="stroke:#A80036;stroke-width:1.5;" x1="216" x2="334" y1="652.9375" y2="652.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="216" x2="334" y1="660.9375" y2="660.9375"/><!--MD5=[28951905e346ae8e8e44a307d1994de2]
class JWK--><rect codeLine="29" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="53.9375" id="JWK" style="stroke:#A80036;stroke-width:1.5;" width="120" x="23" y="615"/><ellipse cx="38" cy="633.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M38.1094,638.4219 L40.2969,628.0781 L42.7656,628.0781 L39.8125,640.4688 L36.4219,640.4688 L33.4688,628.0781 L35.9375,628.0781 L38.1094,638.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="50" y="631.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="85.5" y="645.1074">JWK</text><line style="stroke:#A80036;stroke-width:1.5;" x1="24" x2="142" y1="652.9375" y2="652.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="24" x2="142" y1="660.9375" y2="660.9375"/><!--MD5=[096d94367fb870bbe0aa0f9957000745]
class ProfileService--><rect codeLine="31" fill="#FEFECE" filter="url(#fc4usdhxi8e3k)" height="79.5469" id="ProfileService" style="stroke:#A80036;stroke-width:1.5;" width="201" x="287.5" y="42"/><ellipse cx="341.75" cy="60.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M341.2344,61.5313 Q339.375,60.8281 338.7188,60.0625 Q338.0781,59.2813 338.0781,57.9688 Q338.0781,56.2813 339.1563,55.3125 Q340.2344,54.3438 342.1094,54.3438 Q342.9688,54.3438 343.8125,54.5469 Q344.6719,54.7344 345.5156,55.125 L345.5156,57.5156 Q344.7344,56.9531 343.9063,56.6719 Q343.0938,56.375 342.2969,56.375 Q341.4219,56.375 340.9375,56.7344 Q340.4688,57.0938 340.4688,57.75 Q340.4688,58.2656 340.8125,58.6094 Q341.1563,58.9375 342.25,59.3438 L343.3125,59.75 Q344.7969,60.2969 345.5,61.2031 Q346.2188,62.1094 346.2188,63.4844 Q346.2188,65.3594 345.1094,66.2813 Q344,67.2031 341.75,67.2031 Q340.8281,67.2031 339.9063,66.9844 Q338.9844,66.7656 338.125,66.3438 L338.125,63.8125 Q339.0938,64.5 340.0156,64.8438 Q340.9375,65.1875 341.8281,65.1875 Q342.7344,65.1875 343.2344,64.7813 Q343.7344,64.3594 343.7344,63.625 Q343.7344,63.0625 343.3906,62.6563 Q343.0625,62.2344 342.4375,61.9844 L341.2344,61.5313 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="374.75" y="58.1387">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="362.25" y="72.1074">ProfileService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="288.5" x2="487.5" y1="79.9375" y2="79.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="288.5" x2="487.5" y1="87.9375" y2="87.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="293.5" y="102.1479">Set&lt;Profile&gt; availableProfiles()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="293.5" y="114.9526">Profile findById(ProfileId profileId)</text><!--MD5=[e07a3b48e3d424e658dfcab058816f7e]
link Profile to ProfileId--><path codeLine="36" d="M365.1,394.17 C389.31,420.15 414.03,446.67 433.06,467.08 " fill="none" id="Profile-to-ProfileId" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="436.54,470.82,433.3221,461.5117,433.1279,467.1652,427.4744,466.971,436.54,470.82" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="405" y="437.0669">id</text><!--MD5=[e3ff99e6f33daa79e942bc6ee8cd1c19]
link Profile to JsonLdCredentialTemplate--><path codeLine="37" d="M275,394.17 C275,419.61 275,445.57 275,465.8 " fill="none" id="Profile-to-JsonLdCredentialTemplate" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="275,470.82,279,461.82,275,465.82,271,461.82,275,470.82" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="276" y="437.0669">template</text><!--MD5=[6e9e0181dcc146c290a4dfa27720cb04]
link Profile to JWKs--><path codeLine="38" d="M184.9,394.17 C160.69,420.15 135.97,446.67 116.94,467.08 " fill="none" id="Profile-to-JWKs" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="113.46,470.82,122.5256,466.971,116.8721,467.1652,116.6779,461.5117,113.46,470.82" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="157" y="437.0669">notaries</text><!--MD5=[0815239595d0f4179ff54b5775e16123]
reverse link JWKs to JWK--><path codeLine="39" d="M83,551.31 C83,572.48 83,596.85 83,614.84 " fill="none" id="JWKs-backto-JWK" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="83,538.3,79,544.3,83,550.3,87,544.3,83,538.3" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="84" y="581.0669">jwk</text><!--MD5=[7267d15ed3adcfe7900debdb29d596ff]
link JsonLdCredentialTemplate to Json--><path codeLine="40" d="M275,538.3 C275,560.05 275,588.43 275,609.84 " fill="none" id="JsonLdCredentialTemplate-to-Json" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="275,614.84,279,605.84,275,609.84,271,605.84,275,614.84" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="276" y="581.0669">value</text><!--MD5=[022e19ca72d8231ae7a7d957761bc40b]
link ProfileService to Profile--><path codeLine="41" d="M367.01,122.47 C356.15,142.89 342.35,168.85 328.75,194.41 " fill="none" id="ProfileService-to-Profile" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="326.4,198.84,334.1525,192.7655,328.744,194.4235,327.0861,189.0151,326.4,198.84" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="349" y="165.0669">availableProfiles</text><!--MD5=[3d762bcd1e00022929aec919b5fb4b91]
link ProfileService to ProfileId--><path codeLine="42" d="M439.45,122.15 C447.76,131 455.2,141.06 460,152 C506.35,257.69 488.05,399 475.32,465.66 " fill="none" id="ProfileService-to-ProfileId" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="474.34,470.72,479.9868,462.6507,475.2959,465.8122,472.1344,461.1213,474.34,470.72" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="490" y="301.0669">findById</text><!--MD5=[926df56338109eedb7c6b34ce4effb84]
@startuml

skinparam componentStyle uml2

package "'ProfileAggregate' Aggregate" <<Rectangle>> {
	class Profile <<(A,#fffab8) Aggregate Root>> {
		String name
		String aip
		String[0..1] description
		Duration validFor
		boolean isRevocable
		List<TaskDescription> taskDescriptions
		TaskTree tasks
		TaskTree preconditionTasks
		ProfileId id
		JsonLdCredentialTemplate template
		JWKs notaries
	}
	class ProfileId <<(V,DarkSeaGreen) Value Object>> {
		String profileId
	}
	class JWKs <<(V,DarkSeaGreen) Value Object>> {
		List<JWK> jwk
	}
	class JsonLdCredentialTemplate <<(V,DarkSeaGreen) Value Object>> {
		Json value
	}
	class Json <<(V,DarkSeaGreen) Value Object>> {
	}
	class JWK <<(V,DarkSeaGreen) Value Object>> {
	}
	class ProfileService <<(S,DarkSeaGreen) Service>> {
		Set<Profile> availableProfiles()
		Profile findById(ProfileId profileId)
	}
}
Profile - -> ProfileId : id
Profile - -> JsonLdCredentialTemplate : template
Profile - -> JWKs : notaries
JWKs o- - JWK : jwk
JsonLdCredentialTemplate - -> Json : value
ProfileService - -> Profile : availableProfiles
ProfileService - -> ProfileId : findById


@enduml

PlantUML version 1.2022.0(Tue Jan 11 17:16:42 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>