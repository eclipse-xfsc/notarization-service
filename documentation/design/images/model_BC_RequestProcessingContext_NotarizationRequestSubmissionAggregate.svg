<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="536px" preserveAspectRatio="none" style="width:1846px;height:536px;background:#FFFFFF;" version="1.1" viewBox="0 0 1846 536" width="1846px" zoomAndPan="magnify"><defs><filter height="300%" id="f1cwkah0nyx1e7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2e1b275709a1e448e7d9eb6603036d7e]
cluster 'NotarizationRequestSubmissionAggregate' Aggregate--><rect fill="#FFFFFF" filter="url(#f1cwkah0nyx1e7)" height="517" style="stroke:#000000;stroke-width:1.5;" width="1827" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="429" x="706" y="21.9951">'NotarizationRequestSubmissionAggregate' Aggregate</text><!--MD5=[1c0682ba61490f337e93d9ff2ad947af]
class AccessPathParameters--><rect codeLine="5" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="79.5469" id="AccessPathParameters" style="stroke:#A80036;stroke-width:1.5;" width="178" x="520" y="390"/><ellipse cx="535" cy="408.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M535.1094,413.4219 L537.2969,403.0781 L539.7656,403.0781 L536.8125,415.4688 L533.4219,415.4688 L530.4688,403.0781 L532.9375,403.0781 L535.1094,413.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="576" y="406.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="549" y="420.1074">AccessPathParameters</text><line style="stroke:#A80036;stroke-width:1.5;" x1="521" x2="697" y1="427.9375" y2="427.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="526" y="442.1479">String token</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="526" y="454.9526">String sessionId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="521" x2="697" y1="461.5469" y2="461.5469"/><!--MD5=[f3f3a11aad597b7fc7f42acecb75770e]
class SessionSummary--><rect codeLine="9" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="156.375" id="SessionSummary" style="stroke:#A80036;stroke-width:1.5;" width="238" x="998" y="352"/><ellipse cx="1059.75" cy="370.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1059.8594,375.4219 L1062.0469,365.0781 L1064.5156,365.0781 L1061.5625,377.4688 L1058.1719,377.4688 L1055.2188,365.0781 L1057.6875,365.0781 L1059.8594,375.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="1087.25" y="368.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="1080.25" y="382.1074">SessionSummary</text><line style="stroke:#A80036;stroke-width:1.5;" x1="999" x2="1235" y1="389.9375" y2="389.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="1004" y="404.1479">SessionId sessionId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="1004" y="416.9526">String profileId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="1004" y="429.7573">Set&lt;SessionTaskSummary&gt; tasks</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="226" x="1004" y="442.562">SessionTaskTree preconditionTaskTree</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="1004" y="455.3667">SessionTaskTree taskTree</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="1004" y="468.1714">boolean preconditionTasksFulfilled</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="1004" y="480.9761">boolean tasksFulfilled</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221" x="1004" y="493.7808">NotarizationRequestState requestState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="999" x2="1235" y1="500.375" y2="500.375"/><!--MD5=[89c930e34f87102fde83d6062d3b2e38]
class NotarizationRequestState--><rect codeLine="19" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="176.0469" id="NotarizationRequestState" style="stroke:#A80036;stroke-width:1.5;" width="193" x="1357.5" y="70.5"/><ellipse cx="1372.5" cy="86.5" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1376.6094,92.5 L1368.8906,92.5 L1368.8906,80.1094 L1376.6094,80.1094 L1376.6094,82.2656 L1371.3438,82.2656 L1371.3438,84.9375 L1376.1094,84.9375 L1376.1094,87.0938 L1371.3438,87.0938 L1371.3438,90.3438 L1376.6094,90.3438 L1376.6094,92.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161" x="1386.5" y="90.6543">NotarizationRequestState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1358.5" x2="1549.5" y1="102.5" y2="102.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="1363.5" y="116.7104">CREATED</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="1363.5" y="129.5151">SUBMITTABLE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="1363.5" y="142.3198">EDITABLE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="1363.5" y="155.1245">READY_FOR_REVIEW</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="1363.5" y="167.9292">WORK_IN_PROGRESS</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="1363.5" y="180.7339">ACCEPTED</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1363.5" y="193.5386">PENDING_DID</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="1363.5" y="206.3433">ISSUED</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="1363.5" y="219.1479">TERMINATED</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="180" x="1363.5" y="231.9526">PENDING_REQUESTOR_RELEASE</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1358.5" x2="1549.5" y1="238.5469" y2="238.5469"/><!--MD5=[a190b53a2dbf7dceb870014ca402aaae]
class SubmitNotarizationRequest--><rect codeLine="31" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="92.3516" id="SubmitNotarizationRequest" style="stroke:#A80036;stroke-width:1.5;" width="202" x="761" y="384"/><ellipse cx="776" cy="402.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M776.1094,407.4219 L778.2969,397.0781 L780.7656,397.0781 L777.8125,409.4688 L774.4219,409.4688 L771.4688,397.0781 L773.9375,397.0781 L776.1094,407.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="829" y="400.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="790" y="414.1074">SubmitNotarizationRequest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="762" x2="962" y1="421.9375" y2="421.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="767" y="436.1479">JsonNode data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="767" y="448.9526">String holder</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="767" y="461.7573">String invitation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="762" x2="962" y1="468.3516" y2="468.3516"/><!--MD5=[48ebacafe8307cb15fa3b3324baf7b87]
class NotarizationRequestView--><rect codeLine="36" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="169.1797" id="NotarizationRequestView" style="stroke:#A80036;stroke-width:1.5;" width="233" x="1585.5" y="74"/><ellipse cx="1621.2" cy="92.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1621.3094,97.4219 L1623.4969,87.0781 L1625.9656,87.0781 L1623.0125,99.4688 L1619.6219,99.4688 L1616.6688,87.0781 L1619.1375,87.0781 L1621.3094,97.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="1671.3" y="90.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="1639.8" y="104.1074">NotarizationRequestView</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1586.5" x2="1817.5" y1="111.9375" y2="111.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="1591.5" y="126.1479">UUID id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="1591.5" y="138.9526">String profileId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="1591.5" y="151.7573">Timestamp createdAt</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="1591.5" y="164.562">Timestamp lastModified</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="1591.5" y="177.3667">JsonNode data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="1591.5" y="190.1714">String holder</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="1591.5" y="202.9761">Set&lt;DocumentView&gt; documents</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="1591.5" y="215.7808">String rejectComment</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221" x="1591.5" y="228.5854">NotarizationRequestState requestState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1586.5" x2="1817.5" y1="235.1797" y2="235.1797"/><!--MD5=[0a467562169a882c2db912c9830d1b60]
class DocumentUploadByLink--><rect codeLine="47" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="143.5703" id="DocumentUploadByLink" style="stroke:#A80036;stroke-width:1.5;" width="178" x="294" y="358"/><ellipse cx="309" cy="376.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M309.1094,381.4219 L311.2969,371.0781 L313.7656,371.0781 L310.8125,383.4688 L307.4219,383.4688 L304.4688,371.0781 L306.9375,371.0781 L309.1094,381.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="350" y="374.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="323" y="388.1074">DocumentUploadByLink</text><line style="stroke:#A80036;stroke-width:1.5;" x1="295" x2="471" y1="395.9375" y2="395.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="300" y="410.1479">UUID id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="300" y="422.9526">URI location</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="300" y="435.7573">String title</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="300" y="448.562">String mimetype</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="300" y="461.3667">String extension</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="300" y="474.1714">String shortDescription</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="300" y="486.9761">String longDescription</text><line style="stroke:#A80036;stroke-width:1.5;" x1="295" x2="471" y1="493.5703" y2="493.5703"/><!--MD5=[e08e455fa1cfabce82a25e0162b18fed]
class DocumentUpload--><rect codeLine="56" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="117.9609" id="DocumentUpload" style="stroke:#A80036;stroke-width:1.5;" width="144" x="115" y="371"/><ellipse cx="131.8" cy="389.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M131.9094,394.4219 L134.0969,384.0781 L136.5656,384.0781 L133.6125,396.4688 L130.2219,396.4688 L127.2688,384.0781 L129.7375,384.0781 L131.9094,394.4219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="154.2" y="387.1387">«Value Object»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="146.2" y="401.1074">DocumentUpload</text><line style="stroke:#A80036;stroke-width:1.5;" x1="116" x2="258" y1="408.9375" y2="408.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="121" y="423.1479">UUID id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="121" y="435.9526">FileUpload content</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="121" y="448.7573">String title</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="121" y="461.562">String shortDescription</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="121" y="474.3667">String longDescription</text><line style="stroke:#A80036;stroke-width:1.5;" x1="116" x2="258" y1="480.9609" y2="480.9609"/><!--MD5=[517282bee888cc9e59fdeeb1fbab9784]
class NotarizationRequestSubmissionService--><rect codeLine="63" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="233.2031" id="NotarizationRequestSubmissionService" style="stroke:#A80036;stroke-width:1.5;" width="593" x="729.5" y="42"/><ellipse cx="900.25" cy="60.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M899.7344,61.5313 Q897.875,60.8281 897.2188,60.0625 Q896.5781,59.2813 896.5781,57.9688 Q896.5781,56.2813 897.6563,55.3125 Q898.7344,54.3438 900.6094,54.3438 Q901.4688,54.3438 902.3125,54.5469 Q903.1719,54.7344 904.0156,55.125 L904.0156,57.5156 Q903.2344,56.9531 902.4063,56.6719 Q901.5938,56.375 900.7969,56.375 Q899.9219,56.375 899.4375,56.7344 Q898.9688,57.0938 898.9688,57.75 Q898.9688,58.2656 899.3125,58.6094 Q899.6563,58.9375 900.75,59.3438 L901.8125,59.75 Q903.2969,60.2969 904,61.2031 Q904.7188,62.1094 904.7188,63.4844 Q904.7188,65.3594 903.6094,66.2813 Q902.5,67.2031 900.25,67.2031 Q899.3281,67.2031 898.4063,66.9844 Q897.4844,66.7656 896.625,66.3438 L896.625,63.8125 Q897.5938,64.5 898.5156,64.8438 Q899.4375,65.1875 900.3281,65.1875 Q901.2344,65.1875 901.7344,64.7813 Q902.2344,64.3594 902.2344,63.625 Q902.2344,63.0625 901.8906,62.6563 Q901.5625,62.2344 900.9375,61.9844 L899.7344,61.5313 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="1012.75" y="58.1387">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="243" x="920.75" y="72.1074">NotarizationRequestSubmissionService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="730.5" x2="1321.5" y1="79.9375" y2="79.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="730.5" x2="1321.5" y1="87.9375" y2="87.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="310" x="735.5" y="102.1479">AccessPathParameters createSession(String profileId)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="296" x="735.5" y="114.9526">void deleteRequest(AccessPathParameters params)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="367" x="735.5" y="127.7573">SessionSummary fetchSession(AccessPathParameters params)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="384" x="735.5" y="140.562">void updateContact(AccessPathParameters params, String contact)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="427" x="735.5" y="153.3667">URI startTask(AccessPathParameters params, UUID taskId, JsonNode data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="351" x="735.5" y="166.1714">void cancelTask(AccessPathParameters params, UUID taskId)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="581" x="735.5" y="178.9761">UUID submitRequest(AccessPathParameters params, SubmitNotarizationRequest submissionRequest)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="472" x="735.5" y="191.7808">NotarizationRequestView fetchNotarizationRequest(AccessPathParameters params)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="390" x="735.5" y="204.5854">void updateRequest(AccessPathParameters params, JsonNode data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="505" x="735.5" y="217.3901">void assignDidHolder(AccessPathParameters params, String didHolder, String invitation)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="417" x="735.5" y="230.1948">URI markReady(AccessPathParameters params, boolean manualRelease)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="291" x="735.5" y="242.9995">void markUnready(AccessPathParameters params)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="735.5" y="255.8042">void manualRelease(String releaseToken)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="292" x="735.5" y="268.6089">URI getSsiInviteUrl(AccessPathParameters params)</text><!--MD5=[c4b4510836fa36fec44514f04332b1f1]
class DocumentResource--><rect codeLine="79" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="117.9609" id="DocumentResource" style="stroke:#A80036;stroke-width:1.5;" width="671" x="23.5" y="99.5"/><ellipse cx="293.25" cy="118.4688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M292.7344,119.0313 Q290.875,118.3281 290.2188,117.5625 Q289.5781,116.7813 289.5781,115.4688 Q289.5781,113.7813 290.6563,112.8125 Q291.7344,111.8438 293.6094,111.8438 Q294.4688,111.8438 295.3125,112.0469 Q296.1719,112.2344 297.0156,112.625 L297.0156,115.0156 Q296.2344,114.4531 295.4063,114.1719 Q294.5938,113.875 293.7969,113.875 Q292.9219,113.875 292.4375,114.2344 Q291.9688,114.5938 291.9688,115.25 Q291.9688,115.7656 292.3125,116.1094 Q292.6563,116.4375 293.75,116.8438 L294.8125,117.25 Q296.2969,117.7969 297,118.7031 Q297.7188,119.6094 297.7188,120.9844 Q297.7188,122.8594 296.6094,123.7813 Q295.5,124.7031 293.25,124.7031 Q292.3281,124.7031 291.4063,124.4844 Q290.4844,124.2656 289.625,123.8438 L289.625,121.3125 Q290.5938,122 291.5156,122.3438 Q292.4375,122.6875 293.3281,122.6875 Q294.2344,122.6875 294.7344,122.2813 Q295.2344,121.8594 295.2344,121.125 Q295.2344,120.5625 294.8906,120.1563 Q294.5625,119.7344 293.9375,119.4844 L292.7344,119.0313 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="345.75" y="115.6387">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="313.75" y="129.6074">DocumentResource</text><line style="stroke:#A80036;stroke-width:1.5;" x1="24.5" x2="693.5" y1="137.4375" y2="137.4375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="24.5" x2="693.5" y1="145.4375" y2="145.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="659" x="29.5" y="159.6479">void uploadDocumentByLink(AccessPathParameters accessParams, UUID taskId, DocumentUploadByLink document)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="587" x="29.5" y="172.4526">void uploadDocument(AccessPathParameters accessParams, UUID taskId, DocumentUpload document)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="438" x="29.5" y="185.2573">DocumentView get(AccessPathParameters accessParams, UUID documentId)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="452" x="29.5" y="198.062">void deleteDocument(AccessPathParameters accessParams, UUID documentId)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="415" x="29.5" y="210.8667">void finishUploading(AccessPathParameters accessParams, UUID taskId)</text><!--MD5=[502bfe2c2c2b8acda8b1d18f1a32d0a5]
class FinishTaskResource--><rect codeLine="86" fill="#FEFECE" filter="url(#f1cwkah0nyx1e7)" height="79.5469" id="FinishTaskResource" style="stroke:#A80036;stroke-width:1.5;" width="338" x="1285" y="390"/><ellipse cx="1387.75" cy="408.9688" fill="#8FBC8F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1387.2344,409.5313 Q1385.375,408.8281 1384.7188,408.0625 Q1384.0781,407.2813 1384.0781,405.9688 Q1384.0781,404.2813 1385.1563,403.3125 Q1386.2344,402.3438 1388.1094,402.3438 Q1388.9688,402.3438 1389.8125,402.5469 Q1390.6719,402.7344 1391.5156,403.125 L1391.5156,405.5156 Q1390.7344,404.9531 1389.9063,404.6719 Q1389.0938,404.375 1388.2969,404.375 Q1387.4219,404.375 1386.9375,404.7344 Q1386.4688,405.0938 1386.4688,405.75 Q1386.4688,406.2656 1386.8125,406.6094 Q1387.1563,406.9375 1388.25,407.3438 L1389.3125,407.75 Q1390.7969,408.2969 1391.5,409.2031 Q1392.2188,410.1094 1392.2188,411.4844 Q1392.2188,413.3594 1391.1094,414.2813 Q1390,415.2031 1387.75,415.2031 Q1386.8281,415.2031 1385.9063,414.9844 Q1384.9844,414.7656 1384.125,414.3438 L1384.125,411.8125 Q1385.0938,412.5 1386.0156,412.8438 Q1386.9375,413.1875 1387.8281,413.1875 Q1388.7344,413.1875 1389.2344,412.7813 Q1389.7344,412.3594 1389.7344,411.625 Q1389.7344,411.0625 1389.3906,410.6563 Q1389.0625,410.2344 1388.4375,409.9844 L1387.2344,409.5313 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="1440.75" y="406.1387">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="1408.25" y="420.1074">FinishTaskResource</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1286" x2="1622" y1="427.9375" y2="427.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1286" x2="1622" y1="435.9375" y2="435.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="326" x="1291" y="450.1479">void finishTaskSuccessfully(String nonce, JsonNode data)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="293" x="1291" y="462.9526">void finishTaskFailure(String nonce, JsonNode data)</text><!--MD5=[9b2d727b4a39e0cf9f0ba5e3123d6671]
link NotarizationRequestSubmissionService to AccessPathParameters--><path codeLine="91" d="M847.04,275.16 C785.62,314.85 720.71,356.8 674.22,386.85 " fill="none" id="NotarizationRequestSubmissionService-to-AccessPathParameters" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="669.78,389.72,679.51,388.1945,673.9794,387.0061,675.1678,381.4755,669.78,389.72" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="793" y="318.0669">createSession</text><!--MD5=[7355a15e5a8912d56a2f94233818dc3e]
link NotarizationRequestSubmissionService to SessionSummary--><path codeLine="92" d="M1065.12,275.36 C1073.26,299.46 1081.68,324.39 1089.3,346.98 " fill="none" id="NotarizationRequestSubmissionService-to-SessionSummary" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1090.92,351.76,1091.8333,341.9536,1089.3217,347.0223,1084.253,344.5108,1090.92,351.76" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1080" y="318.0669">fetchSession</text><!--MD5=[3826785c27b81afb29e838a74bef5ca4]
link NotarizationRequestSubmissionService to SubmitNotarizationRequest--><path codeLine="93" d="M955.5,275.36 C933.33,311.78 910.02,350.09 892.22,379.34 " fill="none" id="NotarizationRequestSubmissionService-to-SubmitNotarizationRequest" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="889.41,383.96,897.5063,378.352,892.0097,379.689,890.6727,374.1924,889.41,383.96" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="935" y="318.0669">submitRequest</text><!--MD5=[b12c7afd99849ca1e5d9773a177f2c8a]
link DocumentResource to AccessPathParameters--><path codeLine="94" d="M440.26,217.77 C471.66,242.57 506.55,273.1 534,305 C555.01,329.42 573.76,360.43 587.26,385.33 " fill="none" id="DocumentResource-to-AccessPathParameters" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="589.72,389.9,588.9845,380.0786,587.3538,385.4954,581.937,383.8646,589.72,389.9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="547" y="318.0669">uploadDocumentByLink</text><!--MD5=[2eba632a8971c250042ec51d388cc516]
link DocumentResource to DocumentUploadByLink--><path codeLine="95" d="M364.18,217.65 C367.69,257.05 372.36,309.54 376.17,352.35 " fill="none" id="DocumentResource-to-DocumentUploadByLink" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="376.63,357.52,379.8157,348.2006,376.1864,352.5397,371.8472,348.9104,376.63,357.52" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="374" y="318.0669">uploadDocumentByLink</text><!--MD5=[a2055568c50e1d0afdaa4040f1f491b9]
link DocumentResource to DocumentUpload--><path codeLine="96" d="M313.18,217.55 C293.41,243.64 270.61,275.22 252,305 C239.85,324.45 227.82,346.41 217.48,366.39 " fill="none" id="DocumentResource-to-DocumentUpload" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="215.16,370.88,222.8342,364.7069,217.4474,366.4339,215.7204,361.0471,215.16,370.88" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="253" y="318.0669">uploadDocument</text><!--MD5=[949638b90493a203acd98c09c84f8f70]
link NotarizationRequestState to NotarizationRequestView--><!--MD5=[cee3cba99ea394a486503f0153821474]
link NotarizationRequestState to FinishTaskResource--><!--MD5=[07115409b4ccaea5e651d4a11d880edf]
@startuml

skinparam componentStyle uml2

package "'NotarizationRequestSubmissionAggregate' Aggregate" <<Rectangle>> {
	class AccessPathParameters <<(V,DarkSeaGreen) Value Object>> {
		String token
		String sessionId
	}
	class SessionSummary <<(V,DarkSeaGreen) Value Object>> {
		SessionId sessionId
		String profileId
		Set<SessionTaskSummary> tasks
		SessionTaskTree preconditionTaskTree
		SessionTaskTree taskTree
		boolean preconditionTasksFulfilled
		boolean tasksFulfilled
		NotarizationRequestState requestState
	}
	enum NotarizationRequestState {
		CREATED
		SUBMITTABLE
		EDITABLE
		READY_FOR_REVIEW
		WORK_IN_PROGRESS
		ACCEPTED
		PENDING_DID
		ISSUED
		TERMINATED
		PENDING_REQUESTOR_RELEASE
	}
	class SubmitNotarizationRequest <<(V,DarkSeaGreen) Value Object>> {
		JsonNode data
		String holder
		String invitation
	}
	class NotarizationRequestView <<(V,DarkSeaGreen) Value Object>> {
		UUID id
		String profileId
		Timestamp createdAt
		Timestamp lastModified
		JsonNode data
		String holder
		Set<DocumentView> documents
		String rejectComment
		NotarizationRequestState requestState
	}
	class DocumentUploadByLink <<(V,DarkSeaGreen) Value Object>> {
		UUID id
		URI location
		String title
		String mimetype
		String extension
		String shortDescription
		String longDescription
	}
	class DocumentUpload <<(V,DarkSeaGreen) Value Object>> {
		UUID id
		FileUpload content
		String title
		String shortDescription
		String longDescription
	}
	class NotarizationRequestSubmissionService <<(S,DarkSeaGreen) Service>> {
		AccessPathParameters createSession(String profileId)
		void deleteRequest(AccessPathParameters params)
		SessionSummary fetchSession(AccessPathParameters params)
		void updateContact(AccessPathParameters params, String contact)
		URI startTask(AccessPathParameters params, UUID taskId, JsonNode data)
		void cancelTask(AccessPathParameters params, UUID taskId)
		UUID submitRequest(AccessPathParameters params, SubmitNotarizationRequest submissionRequest)
		NotarizationRequestView fetchNotarizationRequest(AccessPathParameters params)
		void updateRequest(AccessPathParameters params, JsonNode data)
		void assignDidHolder(AccessPathParameters params, String didHolder, String invitation)
		URI markReady(AccessPathParameters params, boolean manualRelease)
		void markUnready(AccessPathParameters params)
		void manualRelease(String releaseToken)
		URI getSsiInviteUrl(AccessPathParameters params)
	}
	class DocumentResource <<(S,DarkSeaGreen) Service>> {
		void uploadDocumentByLink(AccessPathParameters accessParams, UUID taskId, DocumentUploadByLink document)
		void uploadDocument(AccessPathParameters accessParams, UUID taskId, DocumentUpload document)
		DocumentView get(AccessPathParameters accessParams, UUID documentId)
		void deleteDocument(AccessPathParameters accessParams, UUID documentId)
		void finishUploading(AccessPathParameters accessParams, UUID taskId)
	}
	class FinishTaskResource <<(S,DarkSeaGreen) Service>> {
		void finishTaskSuccessfully(String nonce, JsonNode data)
		void finishTaskFailure(String nonce, JsonNode data)
	}
}
NotarizationRequestSubmissionService - -> AccessPathParameters : createSession
NotarizationRequestSubmissionService - -> SessionSummary : fetchSession
NotarizationRequestSubmissionService - -> SubmitNotarizationRequest : submitRequest
DocumentResource - -> AccessPathParameters : uploadDocumentByLink
DocumentResource - -> DocumentUploadByLink : uploadDocumentByLink
DocumentResource - -> DocumentUpload : uploadDocument


@enduml

PlantUML version 1.2022.0(Tue Jan 11 17:16:42 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>